(this["webpackJsonpreact_dynamic-list-of-todos"]=this["webpackJsonpreact_dynamic-list-of-todos"]||[]).push([[0],{17:function(t,e,s){},18:function(t,e,s){},19:function(t,e,s){},21:function(t,e,s){},22:function(t,e,s){"use strict";s.r(e);var n=s(10),r=s.n(n),c=s(3),a=s(9),i=s(4),o=s(5),l=s(7),u=s(6),d=s(1),h=s.n(d),p=s(2),j=s.n(p),f=(s(17),s(18),s(11)),b=s.n(f),m=(s(19),s(0)),v=function(t){var e=t.todos,s=t.selectUser,n=t.changeTodoStatus;return Object(m.jsxs)("div",{className:"TodoList",children:[Object(m.jsx)("h2",{children:"Todos:"}),Object(m.jsx)("div",{className:"TodoList__list-container",children:Object(m.jsx)("ul",{className:"TodoList__list",children:e.map((function(t){return Object(m.jsxs)("li",{className:b()("TodoList__item",{"TodoList__item--unchecked":!t.completed,"TodoList__item--checked":t.completed}),children:[Object(m.jsxs)("label",{htmlFor:"".concat(t.id),children:[Object(m.jsx)("input",{type:"checkbox",id:"".concat(t.id),checked:t.completed,onChange:function(){return n(t.id)}}),Object(m.jsx)("p",{children:t.title})]}),Object(m.jsxs)("button",{className:" TodoList__user-button TodoList__user-button--selected button ",type:"button",onClick:function(){return s(t.userId)},children:["User\xa0#",t.userId]})]},t.id)}))})})]})};s(21);var O=function(){var t=Object(c.a)(h.a.mark((function t(e){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",fetch("https://mate.academy/students-api/users/".concat(e)).then((function(t){if(!t.ok)throw new Error("404");return t.json()})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),x=function(t){Object(l.a)(s,t);var e=Object(u.a)(s);function s(){var t;Object(i.a)(this,s);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(t=e.call.apply(e,[this].concat(r))).state={user:{id:0,name:"",email:"",phone:""},isUserValid:!0},t}return Object(o.a)(s,[{key:"componentDidMount",value:function(){this.loadUser()}},{key:"componentDidUpdate",value:function(t){this.props.userId!==t.userId&&this.loadUser()}},{key:"loadUser",value:function(){var t=Object(c.a)(h.a.mark((function t(){var e;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,O(this.props.userId);case 3:e=t.sent,this.setState({user:e,isUserValid:!0}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),this.setState({isUserValid:!1});case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){return Object(m.jsx)("div",{className:"CurrentUser",children:this.state.isUserValid?Object(m.jsxs)("div",{children:[Object(m.jsx)("h2",{className:"CurrentUser__title",children:Object(m.jsxs)("span",{children:["Selected user:",this.state.user.id]})}),Object(m.jsx)("h3",{className:"CurrentUser__name",children:this.state.user.name}),Object(m.jsx)("p",{className:"CurrentUser__email",children:this.state.user.email}),Object(m.jsx)("p",{className:"CurrentUser__phone",children:this.state.user.phone}),Object(m.jsx)("button",{className:"button",type:"button",onClick:this.props.clearUserInfo,children:"Clear"})]}):Object(m.jsx)("h1",{children:"User not found"})})}}]),s}(j.a.Component),y=function(t){Object(l.a)(s,t);var e=Object(u.a)(s);function s(){var t;Object(i.a)(this,s);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(t=e.call.apply(e,[this].concat(r))).state={selectedUserId:0,todos:[],filterByTitle:"",filterByStatus:"all"},t.selectUser=function(e){t.setState({selectedUserId:e})},t.clearUserInfo=function(){t.setState({selectedUserId:0})},t.changeTodoStatus=function(e){var s=t.state.todos.map((function(t){return t.id===e?Object(a.a)(Object(a.a)({},t),{},{completed:!t.completed}):t}));t.setState((function(){return{todos:s}}))},t.callbackFilterTitle=function(e){var s=e.title,n=e.completed;return"all"===t.filterByStatusResult(t.state.filterByStatus)?s.includes(t.state.filterByTitle):s.includes(t.state.filterByTitle)&&n===t.filterByStatusResult(t.state.filterByStatus)},t.filterByStatusResult=function(t){switch(t){case"completed":return!0;case"active":return!1;default:return"all"}},t.changeFilterTitle=function(e){t.setState({filterByTitle:e.target.value})},t.changeFilterByStatus=function(e){t.setState({filterByStatus:e.target.value})},t}return Object(o.a)(s,[{key:"componentDidMount",value:function(){var t=Object(c.a)(h.a.mark((function t(){var e=this;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:fetch("https://mate.academy/students-api/todos").then((function(t){return t.json()})).then((function(t){e.setState({todos:t})}));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this.state.selectedUserId,e=this.state.todos.filter(this.callbackFilterTitle);return Object(m.jsxs)("div",{className:"App",children:[Object(m.jsxs)("div",{className:"App__sidebar",children:[Object(m.jsx)("span",{children:"Filter title"}),Object(m.jsx)("input",{type:"text",value:this.state.filterByTitle,onChange:this.changeFilterTitle}),Object(m.jsxs)("select",{value:this.state.filterByStatus,onChange:this.changeFilterByStatus,children:[Object(m.jsx)("option",{value:"all",children:"all"}),Object(m.jsx)("option",{value:"completed",children:"completed"}),Object(m.jsx)("option",{value:"active",children:"active"})]}),Object(m.jsx)(v,{todos:e,selectUser:this.selectUser,changeTodoStatus:this.changeTodoStatus})]}),Object(m.jsx)("div",{className:"App__content",children:Object(m.jsx)("div",{className:"App__content-container",children:t?Object(m.jsx)(x,{userId:this.state.selectedUserId,clearUserInfo:this.clearUserInfo}):"No user selected"})})]})}}]),s}(j.a.Component),_=y;r.a.render(Object(m.jsx)(_,{}),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.4d18d6d0.chunk.js.map